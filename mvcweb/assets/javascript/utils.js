function setupLegalPopup(e,t){if(t=t||"",e)return e.attr({onclick:'javascript:attachLegalPopupToExternalLinks("'+(""===t?e.attr("href"):t)+'")',href:"javascript: void(0);"}),e}var decodeEntities=function(){var t=document.createElement("div");return function(e){return e&&"string"==typeof e&&(e=(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e}}();function getUniqueID(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e3).replace(/[018]/g,getUniqueID)}function setupReadMore(){var e=$(".readmore-resort-description");e&&0<e.length&&e.readmore({speed:500,beforeToggle:function(e,t,a){t.addClass("transitioning")},afterToggle:function(e,t,a){t.removeClass("transitioning")},moreLink:'<div class="text-center read-more-btn"><a href="#" class="btn marriott-btn">READ MORE</a></div>',lessLink:'<div class="text-center read-more-btn"><a href="#" class="btn marriott-btn">CLOSE</a></div>'})}function getUrlParam(e){for(var t=location.search.substring(1).split("&"),a=0;a<t.length;++a){var n=t[a].split("=");if(n[0].toLowerCase()===e.toLowerCase())return n[1]}return null}function attachLegalPopupToExternalLinks(e){$(function(){$("#legalExternalModal").modal(),$("#modalLegalConfirm").attr("data-link",e)})}function attachSweepstakesModal(e){$(function(){$("#sweepstakesModal").modal(),$("#sweepstakesModalConfirm").attr("data-link",e)})}function openLinkNewTab(e){window.open(e,"_blank")}function onWindowResize(e,t){var a;$(window).resize(function(){clearTimeout(a),a=setTimeout(e,t)})}function getScreenSize(){var e=window,t=document,a=t.documentElement,n=t.getElementsByTagName("body")[0];return{x:e.innerWidth||a.clientWidth||n.clientWidth,y:e.innerHeight||a.clientHeight||n.clientHeight}}function convertRemToPixels(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}function api(e,t,a,n,i,o){$.ajax({xhrFields:{withCredentials:!0},type:t,url:e,data:a,success:n}).fail(i).always(o)}function isValid(e){return void 0!==e&&e}function doSearch(e){setDataLayerNavClick("Search","Search"),window.location.href="/search?keyword="+encodeURIComponent(e)+"&pagination=1"}function handleSearchRequest(e){"Enter"!==e.key&&13!==e.keyCode||doSearch(e.target.value)}function clearPromoFormStore(){store.set("headerPromotion",""),store.set("headerPromotionOwner",""),store.set("headerPromotionProspect","")}function setPromoFormStoreClicked(){store.set("headerPromotion","clicked")}function setPanelTop(){$("#mobileMenuPanel").css({top:$("#resortSubMenu").outerHeight()+$(".fixed-header").outerHeight()})}$.fn.exists=function(){return 0!==this.length},$.scrollToElement=function(e,t,a){if(e){a=a||0;var n=$(e),i=t||2e3;$("html, body").animate({scrollTop:n.offset().top+a},i)}},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};var generalInfoSiteSection="MVC - General Information",newSiteSection="MVC - News",resortSiteSection="MVC - Resorts",requestDataSiteSection="MVC - Request Information",ownershipSiteSection="MVC - Ownership",learnOwnershipSiteSection="MVC - Learn About Ownership";function getDataLayerStore(){return"undefined"!=typeof digitalDataStore&&digitalDataStore||(digitalDataStore={}),digitalDataStore}function satelliteTrack(e){e&&"undefined"!=typeof _satellite&&_satellite&&_satellite.track(e)}function setDataLayerGenericPage(e,t){digitalData.hasOwnProperty("pageInfo")||(digitalData.pageInfo={}),digitalData.pageInfo.pageName=t||"",digitalData.pageInfo.siteSection=e||"no siteSection found"}function setDataLayerFormPage(e,t,a,n,i,o){setDataLayerGenericPage(e,t),digitalData.pageInfo.formID=n||"",digitalData.pageInfo.formLOC=i||"",digitalData.pageInfo.formStep=o||""}function setDataLayerSearchPage(e,t,a,n){setDataLayerGenericPage(e,t),digitalData.search={term:a,results:"0"===n?"zero":n}}function setDataLayerRequestInfoPage(e,t,a,n){digitalData.hasOwnProperty("pageInfo")||(digitalData.pageInfo={}),digitalData.pageInfo.formID=e||"",digitalData.pageInfo.formLOC=t||"",digitalData.pageInfo.requestInfoStep=a||"",digitalData.pageInfo.requestInfoIsOwner=n||""}function setDataLayerResortPage(e,t,a,n,i,o,r,s){digitalData.pageInfo={pageName:[resortSiteSection,e,r].join(" | "),siteSection:resortSiteSection||"",resortName:e||"",resortID:t||"",resortCity:a||"",resortState:n||"",resortCountry:i||"",resortMARSHA:o||"",resortPageType:r||"",resortBrand:s||""}}function setDataLayerNavClick(e,t){digitalData.tab={name:e,type:t},satelliteTrack("tab click")}function hasTouch(){return"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}function watchForHover(){var e=!1,t=document.body,a=0;function n(){new Date-a<500||e||(t.className+=" hasHover",e=!0)}document.addEventListener("touchstart",function(){a=new Date},!0),document.addEventListener("touchstart",function(){e&&(t.className=t.className.replace(" hasHover",""),e=!1)},!0),document.addEventListener("mousemove",n,!0),n()}